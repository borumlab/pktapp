scale_y_continuous(limits = c(0, NA))
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5) + aes(ymin=0)
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
ggplot(UCURmelt, aes(Count,value,ymin=0)) + geom_point() + facet_wrap(~variable, ncol = 5)
ggplot(UCURmelt, aes(Count,value,ymin=0,ymax=150)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURmelt$value<-as.numeric(UCURmelt$value)
ggplot(UCURmelt, aes(Count,value,ymin=0,ymax=150)) + geom_point() + facet_wrap(~variable, ncol = 5)
warnings()
ggplot(UCURmelt, aes(Count,value,ymin=0,ymax=NA)) + geom_point() + facet_wrap(~variable, ncol = 5)
ggplot(UCURmelt, aes(Count,value,ymin=0,ymax=NA)) + geom_point() + facet_wrap(~variable, ncol = 5)
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
warnings()
UCURdb$FNA_ALA_G
UCURdb$Alanine_per_serving_g
UCURdb$PRO_conv
UCURdb$Pro_conv<-ifelse(!is.na(UCURdb$Protein_per_serving_g/UCURdb$`X203`),UCURdb$Protein_per_serving_g/UCURdb$`X203`,1)   #this should be pro frmo label
UCURdb$Pro_conv
UCURdb$Fat_conv<-ifelse(!is.na(UCURdb$Total_Fat_per_serving_g/UCURdb$`X204`),UCURdb$Total_Fat_per_serving_g/UCURdb$`X204`,1)  #this should be fat from label
UCURdb$Fat_conv
is.na(UCURdb) <- do.call(cbind,lapply(UCURdb, is.infinite))
UCURdb$FNA_ALA_G<-ifelse(!is.na(UCURdb$Alanine_per_serving_g),UCURdb$Alanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`513`)
UCURdb$FNA_ARG_G<-ifelse(!is.na(UCURdb$Arginine_per_serving_g),UCURdb$Arginine_per_serving_g,UCURdb$PRO_conv*UCURdb$`511`)
UCURdb$FNA_ASP_G<-ifelse(!is.na(UCURdb$Aspartic_acid_per_serving_g),UCURdb$Aspartic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`514`)
UCURdb$FNA_CYS_G<-ifelse(!is.na(UCURdb$Cystine_per_serving_g),UCURdb$Cystine_per_serving_g,UCURdb$PRO_conv*UCURdb$`507`)
UCURdb$FNA_GLU_G<-ifelse(!is.na(UCURdb$Glutamic_acid_per_serving_g),UCURdb$Glutamic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`515`)
UCURdb$FNA_GLY_G<-ifelse(!is.na(UCURdb$Glycine_per_serving_g),UCURdb$Glycine_per_serving_g,UCURdb$PRO_conv*UCURdb$`516`)
UCURdb$FNA_HISTN_G<-ifelse(!is.na(UCURdb$Histidine_per_serving_g),UCURdb$Histidine_per_serving_g,UCURdb$PRO_conv*UCURdb$`512`)
UCURdb$FNA_HYP<-ifelse(!is.na(UCURdb$Hydroxyproline_per_serving_g),UCURdb$Hydroxyproline_per_serving_g,UCURdb$PRO_conv*UCURdb$`521`)
UCURdb$FNA_ILE_G<-ifelse(!is.na(UCURdb$Isoleucine_per_serving_g),UCURdb$Isoleucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`503`)
UCURdb$FNA_LEU_G<-ifelse(!is.na(UCURdb$Leucine_per_serving_g),UCURdb$Leucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`504`)
UCURdb$FNA_LYS_G<-ifelse(!is.na(UCURdb$Lysine_per_serving_g),UCURdb$Lysine_per_serving_g,UCURdb$PRO_conv*UCURdb$`505`)
UCURdb$FNA_MET_G<-ifelse(!is.na(UCURdb$Methionine_per_serving_g),UCURdb$Methionine_per_serving_g,UCURdb$PRO_conv*UCURdb$`506`)
UCURdb$FNA_PHE_G<-ifelse(!is.na(UCURdb$Phenylalanine_per_serving_g),UCURdb$Phenylalanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`508`)
UCURdb$FNA_PRO_G<-ifelse(!is.na(UCURdb$Proline_per_serving_g),UCURdb$Proline_per_serving_g,UCURdb$PRO_conv*UCURdb$`517`)
UCURdb$FNA_SER_G<-ifelse(!is.na(UCURdb$Serine_per_serving_g),UCURdb$Serine_per_serving_g,UCURdb$PRO_conv*UCURdb$`518`)
UCURdb$FNA_THR_G<-ifelse(!is.na(UCURdb$Threonine_per_serving_g),UCURdb$Threonine_per_serving_g,UCURdb$PRO_conv*UCURdb$`502`)
UCURdb$FNA_TRP_G<-ifelse(!is.na(UCURdb$Tryptophan_per_serving_g),UCURdb$Tryptophan_per_serving_g,UCURdb$PRO_conv*UCURdb$`501`)
UCURdb$FNA_TYR_G<-ifelse(!is.na(UCURdb$Tyrosine_per_serving_g),UCURdb$Tyrosine_per_serving_g,UCURdb$PRO_conv*UCURdb$`509`)
UCURdb$FNA_VAL_G<-ifelse(!is.na(UCURdb$Valine_per_serving_g),UCURdb$Valine_per_serving_g,UCURdb$PRO_conv*UCURdb$`510`)
UCURmelt <- melt(UCURdb[,c(2,408:442)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmelt$Count<-as.numeric(UCURmelt$Count)
UCURmelt$value<-as.numeric(UCURmelt$value)
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURdb$PRO_conv
UCURdb$Pro_conv<-ifelse(!is.na(UCURdb$Protein_per_serving_g/UCURdb$`X203`),UCURdb$Protein_per_serving_g/UCURdb$`X203`,1)   #this should be pro frmo label
UCURdb$Pro_conv
is.na(UCURdb) <- do.call(cbind,lapply(UCURdb, is.infinite))
UCURdb$Pro_conv
UCURdb$PRO_conv
UCURdb$PRO_conv<-ifelse(!is.na(UCURdb$Protein_per_serving_g/UCURdb$`X203`),UCURdb$Protein_per_serving_g/UCURdb$`X203`,1)   #this should be pro frmo label
UCURdb$FNA_ALA_G<-ifelse(!is.na(UCURdb$Alanine_per_serving_g),UCURdb$Alanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`513`)
UCURdb$FNA_ARG_G<-ifelse(!is.na(UCURdb$Arginine_per_serving_g),UCURdb$Arginine_per_serving_g,UCURdb$PRO_conv*UCURdb$`511`)
UCURdb$FNA_ASP_G<-ifelse(!is.na(UCURdb$Aspartic_acid_per_serving_g),UCURdb$Aspartic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`514`)
UCURdb$FNA_CYS_G<-ifelse(!is.na(UCURdb$Cystine_per_serving_g),UCURdb$Cystine_per_serving_g,UCURdb$PRO_conv*UCURdb$`507`)
UCURdb$FNA_GLU_G<-ifelse(!is.na(UCURdb$Glutamic_acid_per_serving_g),UCURdb$Glutamic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`515`)
UCURdb$FNA_GLY_G<-ifelse(!is.na(UCURdb$Glycine_per_serving_g),UCURdb$Glycine_per_serving_g,UCURdb$PRO_conv*UCURdb$`516`)
UCURdb$FNA_HISTN_G<-ifelse(!is.na(UCURdb$Histidine_per_serving_g),UCURdb$Histidine_per_serving_g,UCURdb$PRO_conv*UCURdb$`512`)
UCURdb$FNA_HYP<-ifelse(!is.na(UCURdb$Hydroxyproline_per_serving_g),UCURdb$Hydroxyproline_per_serving_g,UCURdb$PRO_conv*UCURdb$`521`)
UCURdb$FNA_ILE_G<-ifelse(!is.na(UCURdb$Isoleucine_per_serving_g),UCURdb$Isoleucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`503`)
UCURdb$FNA_LEU_G<-ifelse(!is.na(UCURdb$Leucine_per_serving_g),UCURdb$Leucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`504`)
UCURdb$FNA_LYS_G<-ifelse(!is.na(UCURdb$Lysine_per_serving_g),UCURdb$Lysine_per_serving_g,UCURdb$PRO_conv*UCURdb$`505`)
UCURdb$FNA_MET_G<-ifelse(!is.na(UCURdb$Methionine_per_serving_g),UCURdb$Methionine_per_serving_g,UCURdb$PRO_conv*UCURdb$`506`)
UCURdb$FNA_PHE_G<-ifelse(!is.na(UCURdb$Phenylalanine_per_serving_g),UCURdb$Phenylalanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`508`)
UCURdb$FNA_PRO_G<-ifelse(!is.na(UCURdb$Proline_per_serving_g),UCURdb$Proline_per_serving_g,UCURdb$PRO_conv*UCURdb$`517`)
UCURdb$FNA_SER_G<-ifelse(!is.na(UCURdb$Serine_per_serving_g),UCURdb$Serine_per_serving_g,UCURdb$PRO_conv*UCURdb$`518`)
UCURdb$FNA_THR_G<-ifelse(!is.na(UCURdb$Threonine_per_serving_g),UCURdb$Threonine_per_serving_g,UCURdb$PRO_conv*UCURdb$`502`)
UCURdb$FNA_TRP_G<-ifelse(!is.na(UCURdb$Tryptophan_per_serving_g),UCURdb$Tryptophan_per_serving_g,UCURdb$PRO_conv*UCURdb$`501`)
UCURdb$FNA_TYR_G<-ifelse(!is.na(UCURdb$Tyrosine_per_serving_g),UCURdb$Tyrosine_per_serving_g,UCURdb$PRO_conv*UCURdb$`509`)
UCURdb$FNA_VAL_G<-ifelse(!is.na(UCURdb$Valine_per_serving_g),UCURdb$Valine_per_serving_g,UCURdb$PRO_conv*UCURdb$`510`)
UCURdb$PRO_conv<-ifelse(!is.na(UCURdb$Protein_per_serving_g/UCURdb$`X203`),UCURdb$Protein_per_serving_g/UCURdb$`X203`,1)   #this should be pro frmo label
is.na(UCURdb) <- do.call(cbind,lapply(UCURdb, is.infinite))
UCURdb$FNA_ALA_G<-ifelse(!is.na(UCURdb$Alanine_per_serving_g),UCURdb$Alanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`513`)
UCURdb$FNA_ARG_G<-ifelse(!is.na(UCURdb$Arginine_per_serving_g),UCURdb$Arginine_per_serving_g,UCURdb$PRO_conv*UCURdb$`511`)
UCURdb$FNA_ASP_G<-ifelse(!is.na(UCURdb$Aspartic_acid_per_serving_g),UCURdb$Aspartic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`514`)
UCURdb$FNA_CYS_G<-ifelse(!is.na(UCURdb$Cystine_per_serving_g),UCURdb$Cystine_per_serving_g,UCURdb$PRO_conv*UCURdb$`507`)
UCURdb$FNA_GLU_G<-ifelse(!is.na(UCURdb$Glutamic_acid_per_serving_g),UCURdb$Glutamic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`515`)
UCURdb$FNA_GLY_G<-ifelse(!is.na(UCURdb$Glycine_per_serving_g),UCURdb$Glycine_per_serving_g,UCURdb$PRO_conv*UCURdb$`516`)
UCURdb$FNA_HISTN_G<-ifelse(!is.na(UCURdb$Histidine_per_serving_g),UCURdb$Histidine_per_serving_g,UCURdb$PRO_conv*UCURdb$`512`)
UCURdb$FNA_HYP<-ifelse(!is.na(UCURdb$Hydroxyproline_per_serving_g),UCURdb$Hydroxyproline_per_serving_g,UCURdb$PRO_conv*UCURdb$`521`)
UCURdb$FNA_ILE_G<-ifelse(!is.na(UCURdb$Isoleucine_per_serving_g),UCURdb$Isoleucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`503`)
UCURdb$FNA_LEU_G<-ifelse(!is.na(UCURdb$Leucine_per_serving_g),UCURdb$Leucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`504`)
UCURdb$FNA_LYS_G<-ifelse(!is.na(UCURdb$Lysine_per_serving_g),UCURdb$Lysine_per_serving_g,UCURdb$PRO_conv*UCURdb$`505`)
UCURdb$FNA_MET_G<-ifelse(!is.na(UCURdb$Methionine_per_serving_g),UCURdb$Methionine_per_serving_g,UCURdb$PRO_conv*UCURdb$`506`)
UCURdb$FNA_PHE_G<-ifelse(!is.na(UCURdb$Phenylalanine_per_serving_g),UCURdb$Phenylalanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`508`)
UCURdb$FNA_PRO_G<-ifelse(!is.na(UCURdb$Proline_per_serving_g),UCURdb$Proline_per_serving_g,UCURdb$PRO_conv*UCURdb$`517`)
UCURdb$FNA_SER_G<-ifelse(!is.na(UCURdb$Serine_per_serving_g),UCURdb$Serine_per_serving_g,UCURdb$PRO_conv*UCURdb$`518`)
UCURdb$FNA_THR_G<-ifelse(!is.na(UCURdb$Threonine_per_serving_g),UCURdb$Threonine_per_serving_g,UCURdb$PRO_conv*UCURdb$`502`)
UCURdb$FNA_TRP_G<-ifelse(!is.na(UCURdb$Tryptophan_per_serving_g),UCURdb$Tryptophan_per_serving_g,UCURdb$PRO_conv*UCURdb$`501`)
UCURdb$FNA_TYR_G<-ifelse(!is.na(UCURdb$Tyrosine_per_serving_g),UCURdb$Tyrosine_per_serving_g,UCURdb$PRO_conv*UCURdb$`509`)
UCURdb$FNA_VAL_G<-ifelse(!is.na(UCURdb$Valine_per_serving_g),UCURdb$Valine_per_serving_g,UCURdb$PRO_conv*UCURdb$`510`)
UCURdb$PRO_conv
UCURdb$`513`
################
UCURdb$FNA_ALA_G<-ifelse(!is.na(UCURdb$Alanine_per_serving_g),UCURdb$Alanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X513`)
UCURdb$FNA_ARG_G<-ifelse(!is.na(UCURdb$Arginine_per_serving_g),UCURdb$Arginine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X511`)
UCURdb$FNA_ASP_G<-ifelse(!is.na(UCURdb$Aspartic_acid_per_serving_g),UCURdb$Aspartic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`X514`)
UCURdb$FNA_CYS_G<-ifelse(!is.na(UCURdb$Cystine_per_serving_g),UCURdb$Cystine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X507`)
UCURdb$FNA_GLU_G<-ifelse(!is.na(UCURdb$Glutamic_acid_per_serving_g),UCURdb$Glutamic_acid_per_serving_g,UCURdb$PRO_conv*UCURdb$`X515`)
UCURdb$FNA_GLY_G<-ifelse(!is.na(UCURdb$Glycine_per_serving_g),UCURdb$Glycine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X516`)
UCURdb$FNA_HISTN_G<-ifelse(!is.na(UCURdb$Histidine_per_serving_g),UCURdb$Histidine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X512`)
UCURdb$FNA_HYP<-ifelse(!is.na(UCURdb$Hydroxyproline_per_serving_g),UCURdb$Hydroxyproline_per_serving_g,UCURdb$PRO_conv*UCURdb$`X521`)
UCURdb$FNA_ILE_G<-ifelse(!is.na(UCURdb$Isoleucine_per_serving_g),UCURdb$Isoleucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X503`)
UCURdb$FNA_LEU_G<-ifelse(!is.na(UCURdb$Leucine_per_serving_g),UCURdb$Leucine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X504`)
UCURdb$FNA_LYS_G<-ifelse(!is.na(UCURdb$Lysine_per_serving_g),UCURdb$Lysine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X505`)
UCURdb$FNA_MET_G<-ifelse(!is.na(UCURdb$Methionine_per_serving_g),UCURdb$Methionine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X506`)
UCURdb$FNA_PHE_G<-ifelse(!is.na(UCURdb$Phenylalanine_per_serving_g),UCURdb$Phenylalanine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X508`)
UCURdb$FNA_PRO_G<-ifelse(!is.na(UCURdb$Proline_per_serving_g),UCURdb$Proline_per_serving_g,UCURdb$PRO_conv*UCURdb$`X517`)
UCURdb$FNA_SER_G<-ifelse(!is.na(UCURdb$Serine_per_serving_g),UCURdb$Serine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X518`)
UCURdb$FNA_THR_G<-ifelse(!is.na(UCURdb$Threonine_per_serving_g),UCURdb$Threonine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X502`)
UCURdb$FNA_TRP_G<-ifelse(!is.na(UCURdb$Tryptophan_per_serving_g),UCURdb$Tryptophan_per_serving_g,UCURdb$PRO_conv*UCURdb$`X501`)
UCURdb$FNA_TYR_G<-ifelse(!is.na(UCURdb$Tyrosine_per_serving_g),UCURdb$Tyrosine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X509`)
UCURdb$FNA_VAL_G<-ifelse(!is.na(UCURdb$Valine_per_serving_g),UCURdb$Valine_per_serving_g,UCURdb$PRO_conv*UCURdb$`X510`)
UCURmelt <- melt(UCURdb[,c(2,408:442)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmelt$Count<-as.numeric(UCURmelt$Count)
UCURmelt$value<-as.numeric(UCURmelt$value)
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURmelt <- melt(UCURdb[,c(2,424:442)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmelt$Count<-as.numeric(UCURmelt$Count)
UCURmelt$value<-as.numeric(UCURmelt$value)
ggplot(UCURmelt, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURdb$FNA_FAMS<-ifelse(!is.na(UCURdb$Monounsaturated_Fat_per_serving_g),UCURdb$Monounsaturated_Fat_per_serving_g,UCURdb$FAT_conv*UCURdb$`X645`)
UCURdb$FNA_FAPU<-ifelse(!is.na(UCURdb$Polyunsaturated_Fat_per_serving_g),UCURdb$Polyunsaturated_Fat_per_serving_g,UCURdb$FAT_conv*UCURdb$`X646`)
UCURdb$FNA_FASAT<-ifelse(!is.na(UCURdb$Saturated_Fat_per_serving_g),UCURdb$Saturated_Fat_per_serving_g,UCURdb$FAT_conv*UCURdb$`X606`)
UCURdb$FNA_FATRN<-ifelse(!is.na(UCURdb$Trans_Fat_per_serving_g),UCURdb$Trans_Fat_per_serving_g,UCURdb$FAT_conv*UCURdb$`X605`)
UCURdb$Poly_conv<-ifelse(!is.na(UCURdb$Polyunsaturated_Fat_per_serving_g),UCURdb$Polyunsaturated_Fat_per_serving_g/UCURdb$`X646`,1)
UCURdb$Mono_conv<-ifelse(!is.na(UCURdb$Monounsaturated_Fat_per_serving_g),UCURdb$Monounsaturated_Fat_per_serving_g/UCURdb$`X645`,1)
UCURdb$Trans_conv<-ifelse(!is.na(UCURdb$Trans_Fat_per_serving_g),UCURdb$Trans_Fat_per_serving_g/UCURdb$`X605`,1)
UCURdb$Sat_conv<-ifelse(!is.na(UCURdb$Saturated_Fat_per_serving_g),UCURdb$Saturated_Fat_per_serving_g/UCURdb$`X606`,1)
UCURdb$FNA_F4D0<-ifelse(!is.na(UCURdb$F4D0_per_serving_g),UCURdb$F4D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X607`),UCURdb$Sat_conv*UCURdb$`X607`,UCURdb$Fat_conv*UCURdb$`X607`))
UCURdb$FNA_F6D0<-ifelse(!is.na(UCURdb$F6D0_per_serving_g),UCURdb$F6D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X608`),UCURdb$Sat_conv*UCURdb$`X608`,UCURdb$Fat_conv*UCURdb$`X608`))
UCURdb$FNA_F8D0<-ifelse(!is.na(UCURdb$F8D0_per_serving_g),UCURdb$F8D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X609`),UCURdb$Sat_conv*UCURdb$`X609`,UCURdb$Fat_conv*UCURdb$`X609`))
UCURdb$FNA_F10D0<-ifelse(!is.na(UCURdb$F10D0_per_serving_g),UCURdb$F10D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X610`),UCURdb$Sat_conv*UCURdb$`X610`,UCURdb$Fat_conv*UCURdb$`X610`))
UCURdb$FNA_F12D0<-ifelse(!is.na(UCURdb$F12D0_per_serving_g),UCURdb$F12D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X611`),UCURdb$Sat_conv*UCURdb$`X611`,UCURdb$Fat_conv*UCURdb$`X611`))
UCURdb$FNA_F13D0<-ifelse(!is.na(UCURdb$F13D0_per_serving_g),UCURdb$F13D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X696`),UCURdb$Sat_conv*UCURdb$`X696`,UCURdb$Fat_conv*UCURdb$`X696`))
UCURdb$FNA_F14D0<-ifelse(!is.na(UCURdb$F14D0_per_serving_g),UCURdb$F14D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X612`),UCURdb$Sat_conv*UCURdb$`X612`,UCURdb$Fat_conv*UCURdb$`X612`))
UCURdb$FNA_F15D0<-ifelse(!is.na(UCURdb$F15D0_per_serving_g),UCURdb$F15D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X652`),UCURdb$Sat_conv*UCURdb$`X652`,UCURdb$Fat_conv*UCURdb$`X652`))
UCURdb$FNA_F16D0<-ifelse(!is.na(UCURdb$F16D0_per_serving_g),UCURdb$F16D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X613`),UCURdb$Sat_conv*UCURdb$`X613`,UCURdb$Fat_conv*UCURdb$`X613`))
UCURdb$FNA_F17D0<-ifelse(!is.na(UCURdb$F17D0_per_serving_g),UCURdb$F17D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X653`),UCURdb$Sat_conv*UCURdb$`X653`,UCURdb$Fat_conv*UCURdb$`X653`))
UCURdb$FNA_F18D0<-ifelse(!is.na(UCURdb$F18D0_per_serving_g),UCURdb$F18D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X614`),UCURdb$Sat_conv*UCURdb$`X614`,UCURdb$Fat_conv*UCURdb$`X614`))
UCURdb$FNA_F20D0<-ifelse(!is.na(UCURdb$F20D0_per_serving_g),UCURdb$F20D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X615`),UCURdb$Sat_conv*UCURdb$`X615`,UCURdb$Fat_conv*UCURdb$`X615`))
UCURdb$FNA_F22D0<-ifelse(!is.na(UCURdb$F22D0_per_serving_g),UCURdb$F22D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X624`),UCURdb$Sat_conv*UCURdb$`X624`,UCURdb$Fat_conv*UCURdb$`X624`))
UCURdb$FNA_F24D0<-ifelse(!is.na(UCURdb$F24D0_per_serving_g),UCURdb$F24D0_per_serving_g,ifelse(!is.na(UCURdb$Sat_conv*UCURdb$`X654`),UCURdb$Sat_conv*UCURdb$`X654`,UCURdb$Fat_conv*UCURdb$`X654`))
names(UCURdb)
UCURmeltSFA <- melt(UCURdb[,c(2,452:465)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltSFA$Count<-as.numeric(UCURmeltSFA$Count)
UCURmeltSFA$value<-as.numeric(UCURmeltSFA$value)
ggplot(UCURmeltSFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
warnings()
UCURdb$FNA_F14D1<-ifelse(!is.na(UCURdb$F14D1_per_serving_g),UCURdb$F14D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X625`),UCURdb$Mono_conv*UCURdb$`X625`,UCURdb$Fat_conv*UCURdb$`X625`))
UCURdb$FNA_F15D1<-ifelse(!is.na(UCURdb$F15D1_per_serving_g),UCURdb$F15D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X697`),UCURdb$Mono_conv*UCURdb$`X697`,UCURdb$Fat_conv*UCURdb$`X697`))
UCURdb$FNA_F17D1<-ifelse(!is.na(UCURdb$F17D1_per_serving_g),UCURdb$F17D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X687`),UCURdb$Mono_conv*UCURdb$`X687`,UCURdb$Fat_conv*UCURdb$`X687`))
UCURdb$FNA_F20D1<-ifelse(!is.na(UCURdb$F20D1_per_serving_g),UCURdb$F20D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X628`),UCURdb$Mono_conv*UCURdb$`X628`,UCURdb$Fat_conv*UCURdb$`X628`))
UCURdb$FNA_F16D1C<-ifelse(!is.na(UCURdb$F16D1C_per_serving_g),UCURdb$F16D1C_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X673`),UCURdb$Mono_conv*UCURdb$`X673`,UCURdb$Fat_conv*UCURdb$`X673`))
UCURdb$FNA_F16D1<-ifelse(!is.na(UCURdb$F16D1_per_serving_g),UCURdb$F16D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X626`),UCURdb$Mono_conv*UCURdb$`X626`,UCURdb$Fat_conv*UCURdb$`X626`))
UCURdb$FNA_F18D1C<-ifelse(!is.na(UCURdb$F18D1C_per_serving_g),UCURdb$F18D1C_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X674`),UCURdb$Mono_conv*UCURdb$`X674`,UCURdb$Fat_conv*UCURdb$`X674`))
UCURdb$FNA_F18D1<-ifelse(!is.na(UCURdb$F18D1_per_serving_g),UCURdb$F18D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X617`),UCURdb$Mono_conv*UCURdb$`X617`,UCURdb$Fat_conv*UCURdb$`X617`))
UCURdb$FNA_F22D1C<-ifelse(!is.na(UCURdb$F22D1C_per_serving_g),UCURdb$F22D1C_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X676`),UCURdb$Mono_conv*UCURdb$`X676`,UCURdb$Fat_conv*UCURdb$`X676`))
UCURdb$FNA_F22D1<-ifelse(!is.na(UCURdb$F22D1_per_serving_g),UCURdb$F22D1_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X630`),UCURdb$Mono_conv*UCURdb$`X630`,UCURdb$Fat_conv*UCURdb$`X630`))
UCURdb$FNA_F24D1C<-ifelse(!is.na(UCURdb$F24D1C_per_serving_g),UCURdb$F24D1C_per_serving_g,ifelse(!is.na(UCURdb$Mono_conv*UCURdb$`X671`),UCURdb$Mono_conv*UCURdb$`X671`,UCURdb$Fat_conv*UCURdb$`X671`))
names(UCURdb)
UCURmeltMUFA <- melt(UCURdb[,c(2,466:475)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltMUFA$Count<-as.numeric(UCURmeltMUFA$Count)
UCURmeltMUFA$value<-as.numeric(UCURmeltMUFA$value)
ggplot(UCURmeltMUFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURdb$FNA_F18D4<-ifelse(!is.na(UCURdb$F18D4_per_serving_g),UCURdb$F18D4_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X627`),UCURdb$Poly_conv*UCURdb$`X627`,UCURdb$Fat_conv*UCURdb$`X627`))
UCURdb$FNA_F21D5<-ifelse(!is.na(UCURdb$F21D5_per_serving_g),UCURdb$F21D5_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X857`),UCURdb$Poly_conv*UCURdb$`X857`,UCURdb$Fat_conv*UCURdb$`X857`))
UCURdb$FNA_F22D4<-ifelse(!is.na(UCURdb$F22D4_per_serving_g),UCURdb$F22D4_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X858`),UCURdb$Poly_conv*UCURdb$`X858`,UCURdb$Fat_conv*UCURdb$`X858`))
UCURdb$FNA_F18D2<-ifelse(!is.na(UCURdb$LA_per_serving_mg),UCURdb$LA_per_serving_mg,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X618`),UCURdb$Poly_conv*UCURdb$`X618`,UCURdb$Fat_conv*UCURdb$`X618`))
UCURdb$FNA_F18D3CN3<-ifelse(!is.na(UCURdb$F18D3CN3_per_serving_g),UCURdb$F18D3CN3_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X851`),UCURdb$Poly_conv*UCURdb$`X851`,UCURdb$Fat_conv*UCURdb$`X851`))
UCURdb$FNA_F18D3CN6<-ifelse(!is.na(UCURdb$F18D3CN6_per_serving_g),UCURdb$F18D3CN6_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X685`),UCURdb$Poly_conv*UCURdb$`X685`,UCURdb$Fat_conv*UCURdb$`X685`))
UCURdb$FNA_F18D3<-ifelse(!is.na(UCURdb$ALA_per_serving_mg),UCURdb$ALA_per_serving_mg,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X619`),UCURdb$Poly_conv*UCURdb$`X619`,UCURdb$Fat_conv*UCURdb$`X619`))
UCURdb$FNA_F20D2CN6<-ifelse(!is.na(UCURdb$F20D2CN6_per_serving_g),UCURdb$F20D2CN6_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X672`),UCURdb$Poly_conv*UCURdb$`X672`,UCURdb$Fat_conv*UCURdb$`X672`))
UCURdb$FNA_F20D3N3<-ifelse(!is.na(UCURdb$F20D3N3_per_serving_g),UCURdb$F20D3N3_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X852`),UCURdb$Poly_conv*UCURdb$`X852`,UCURdb$Fat_conv*UCURdb$`X852`))
UCURdb$FNA_F20D3N6<-ifelse(!is.na(UCURdb$F20D3N6_per_serving_g),UCURdb$F20D3N6_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X853`),UCURdb$Poly_conv*UCURdb$`X853`,UCURdb$Fat_conv*UCURdb$`X853`))
UCURdb$FNA_F20D3<-ifelse(!is.na(UCURdb$F20D3_per_serving_g),UCURdb$F20D3_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X689`),UCURdb$Poly_conv*UCURdb$`X689`,UCURdb$Fat_conv*UCURdb$`X689`))
UCURdb$FNA_F20D4N6<-ifelse(!is.na(UCURdb$ARA_per_serving_mg),UCURdb$ARA_per_serving_mg,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X855`),UCURdb$Poly_conv*UCURdb$`X855`,UCURdb$Fat_conv*UCURdb$`X855`))
UCURdb$FNA_F20D4<-ifelse(!is.na(UCURdb$F20D4_per_serving_g),UCURdb$F20D4_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X620`),UCURdb$Poly_conv*UCURdb$`X620`,UCURdb$Fat_conv*UCURdb$`X620`))
UCURdb$FNA_F20D5<-ifelse(!is.na(UCURdb$EPA_per_serving_mg),UCURdb$EPA_per_serving_mg,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X629`),UCURdb$Poly_conv*UCURdb$`X629`,UCURdb$Fat_conv*UCURdb$`X629`))
UCURdb$FNA_F22D5<-ifelse(!is.na(UCURdb$F22D5_per_serving_g),UCURdb$F22D5_per_serving_g,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X631`),UCURdb$Poly_conv*UCURdb$`X631`,UCURdb$Fat_conv*UCURdb$`X631`))
UCURdb$FNA_F22D6<-ifelse(!is.na(UCURdb$DHA_per_serving_mg),UCURdb$DHA_per_serving_mg,ifelse(!is.na(UCURdb$Poly_conv*UCURdb$`X621`),UCURdb$Poly_conv*UCURdb$`X621`,UCURdb$Fat_conv*UCURdb$`X621`))
UCURmeltPUFA <- melt(UCURdb[,c(2,466:475)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltPUFA$Count<-as.numeric(UCURmeltPUFA$Count)
UCURmeltPUFA$value<-as.numeric(UCURmeltPUFA$value)
ggplot(UCURmeltPUFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
names(UCURdb)
UCURmeltPUFA <- melt(UCURdb[,c(2,477:492)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltPUFA$Count<-as.numeric(UCURmeltPUFA$Count)
UCURmeltPUFA$value<-as.numeric(UCURmeltPUFA$value)
ggplot(UCURmeltPUFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURmeltMUFA <- melt(UCURdb[,c(2,466:476)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltMUFA$Count<-as.numeric(UCURmeltMUFA$Count)
UCURmeltMUFA$value<-as.numeric(UCURmeltMUFA$value)
ggplot(UCURmeltMUFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
UCURdb$FNA_F16D1T<-ifelse(!is.na(UCURdb$F16D1T_per_serving_g),UCURdb$F16D1T_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X662`),UCURdb$Trans_conv*UCURdb$`X662`,UCURdb$Fat_conv*UCURdb$`X662`))
UCURdb$FNA_F18D1T<-ifelse(!is.na(UCURdb$F18D1T_per_serving_g),UCURdb$F18D1T_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X663`),UCURdb$Trans_conv*UCURdb$`X663`,UCURdb$Fat_conv*UCURdb$`X663`))
UCURdb$FNA_F18D1TN7<-ifelse(!is.na(UCURdb$F18D1TN7_per_serving_g),UCURdb$F18D1TN7_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X859`),UCURdb$Trans_conv*UCURdb$`X859`,UCURdb$Fat_conv*UCURdb$`X859`))
UCURdb$FNA_F18D2CLA<-ifelse(!is.na(UCURdb$F18D2CLA_per_serving_g),UCURdb$F18D2CLA_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X670`),UCURdb$Trans_conv*UCURdb$`X670`,UCURdb$Fat_conv*UCURdb$`X670`))
UCURdb$FNA_F182I<-ifelse(!is.na(UCURdb$F182I_per_serving_g),UCURdb$F182I_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X666`),UCURdb$Trans_conv*UCURdb$`X666`,UCURdb$Fat_conv*UCURdb$`X666`))
UCURdb$FNA_F18D2CN6<-ifelse(!is.na(UCURdb$F18D2CN6_per_serving_g),UCURdb$F18D2CN6_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X675`),UCURdb$Trans_conv*UCURdb$`X675`,UCURdb$Fat_conv*UCURdb$`X675`))
UCURdb$FNA_F18D2X<-ifelse(!is.na(UCURdb$F18D2X_per_serving_g),UCURdb$F18D2X_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X665`),UCURdb$Trans_conv*UCURdb$`X665`,UCURdb$Fat_conv*UCURdb$`X665`))
UCURdb$FNA_F18D2TT<-ifelse(!is.na(UCURdb$F18D2TT_per_serving_g),UCURdb$F18D2TT_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X669`),UCURdb$Trans_conv*UCURdb$`X669`,UCURdb$Fat_conv*UCURdb$`X669`))
UCURdb$FNA_F183I<-ifelse(!is.na(UCURdb$F183I_per_serving_g),UCURdb$F183I_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X856`),UCURdb$Trans_conv*UCURdb$`X856`,UCURdb$Fat_conv*UCURdb$`X856`))
UCURdb$FNA_F22D1T<-ifelse(!is.na(UCURdb$F22D1T_per_serving_g),UCURdb$F22D1T_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X664`),UCURdb$Trans_conv*UCURdb$`X664`,UCURdb$Fat_conv*UCURdb$`X664`))
UCURdb$FNA_FATRNM<-ifelse(!is.na(UCURdb$FATRNM_per_serving_g),UCURdb$FATRNM_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X693`),UCURdb$Trans_conv*UCURdb$`X693`,UCURdb$Fat_conv*UCURdb$`X693`))
UCURdb$FNA_FATRNP<-ifelse(!is.na(UCURdb$FATRNP_per_serving_g),UCURdb$FATRNP_per_serving_g,ifelse(!is.na(UCURdb$Trans_conv*UCURdb$`X695`),UCURdb$Trans_conv*UCURdb$`X695`,UCURdb$Fat_conv*UCURdb$`X695`))
UCURmeltTFA <- melt(UCURdb[,c(2,477:492)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltTFA$Count<-as.numeric(UCURmeltTFA$Count)
UCURmeltTFA$value<-as.numeric(UCURmeltTFA$value)
ggplot(UCURmeltTFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
names(UCURdb)
UCURmeltTFA <- melt(UCURdb[,c(2,493:504)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltTFA$Count<-as.numeric(UCURmeltTFA$Count)
UCURmeltTFA$value<-as.numeric(UCURmeltTFA$value)
ggplot(UCURmeltTFA, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 5)
names(UCURdb)
UCURdb$FNA_CARTA<-ifelse(!is.na(UCURdb$Carotene_alpha_per_serving_mcg),UCURdb$Carotene_alpha_per_serving_mcg,UCURdb$`X322`)
UCURdb$FNA_CARTB<-ifelse(!is.na(UCURdb$Carotene_beta_per_serving_mcg),UCURdb$Carotene_beta_per_serving_mcg,UCURdb$`X321`)
UCURdb$FNA_CRYPX<-ifelse(!is.na(UCURdb$Cryptoxanthin_beta_per_serving_mcg),UCURdb$Cryptoxanthin_beta_per_serving_mcg,UCURdb$`X334`)
UCURdb$FNA_VITK1D<-ifelse(!is.na(UCURdb$Dihydrophylloquinone_per_serving_mcg),UCURdb$Dihydrophylloquinone_per_serving_mcg,UCURdb$`X429`)
UCURdb$FNA_FOLDFE<-ifelse(!is.na(UCURdb$Folate_DFE_per_serving_mcg),UCURdb$Folate_DFE_per_serving_mcg,UCURdb$`X435`)
UCURdb$FNA_FOLFD<-ifelse(!is.na(UCURdb$Folate_food_per_serving_mcg),UCURdb$Folate_food_per_serving_mcg,UCURdb$`X432`)
UCURdb$FNA_MK4<-ifelse(!is.na(UCURdb$Menaquinone_4_per_serving_mcg),UCURdb$Menaquinone_4_per_serving_mcg,UCURdb$`X428`)
UCURdb$FNA_FOL<-ifelse(!is.na(UCURdb$Folate_mcg),UCURdb$Folate_mcg,UCURdb$`X417`)
UCURdb$FNA_VITD<-ifelse(!is.na(UCURdb$Vitamin_D_mcg),UCURdb$Vitamin_D_mcg,UCURdb$`X328`)
UCURdb$FNA_TOCPHA<-ifelse(!is.na(UCURdb$Vitamin_E_mg),UCURdb$Vitamin_E_mg,UCURdb$`X323`)
UCURdb$FNA_RETOL<-ifelse(!is.na(UCURdb$Retinol_per_serving_mcg),UCURdb$Retinol_per_serving_mcg,UCURdb$`X319`)
UCURdb$FNA_TOCPHB<-ifelse(!is.na(UCURdb$Tocopherol_beta_per_serving_mg),UCURdb$Tocopherol_beta_per_serving_mg,UCURdb$`X341`)
UCURdb$FNA_TOCPHD<-ifelse(!is.na(UCURdb$Tocopherol_delta_per_serving_mg),UCURdb$Tocopherol_delta_per_serving_mg,UCURdb$`X343`)
UCURdb$FNA_TOCPHG<-ifelse(!is.na(UCURdb$Tocopherol_gamma_per_serving_mg),UCURdb$Tocopherol_gamma_per_serving_mg,UCURdb$`X342`)
UCURdb$FNA_TOCTRA<-ifelse(!is.na(UCURdb$Tocotrienol_alpha_per_serving_mg),UCURdb$Tocotrienol_alpha_per_serving_mg,UCURdb$`X344`)
UCURdb$FNA_TOCTRB<-ifelse(!is.na(UCURdb$Tocotrienol_beta_per_serving_mg),UCURdb$Tocotrienol_beta_per_serving_mg,UCURdb$`X345`)
UCURdb$FNA_TOCTRD<-ifelse(!is.na(UCURdb$Tocotrienol_delta_per_serving_mg),UCURdb$Tocotrienol_delta_per_serving_mg,UCURdb$`X347`)
UCURdb$FNA_TOCTRG<-ifelse(!is.na(UCURdb$Tocotrienol_gamma_per_serving_mg),UCURdb$Tocotrienol_gamma_per_serving_mg,UCURdb$`X346`)
UCURdb$FNA_VITA_RAE<-ifelse(!is.na(UCURdb$Vitamin_A_RAE_per_serving_mcg),UCURdb$Vitamin_A_RAE_per_serving_mcg,UCURdb$`X320`)
UCURdb$FNA_VITD<-ifelse(!is.na(UCURdb$Vitamin_D_per_serving_IU),UCURdb$Vitamin_D_per_serving_IU,UCURdb$`X324`)
UCURdb$FNA_BETN<-ifelse(!is.na(UCURdb$Betaine_per_serving_mg),UCURdb$Betaine_per_serving_mg,UCURdb$`X454`)
UCURdb$FNA_BIO<-ifelse(!is.na(UCURdb$Biotin_mcg),UCURdb$Biotin_mcg,$"NA")
UCURdb$FNA_BOR<-ifelse(!is.na(UCURdb$Boron_mg),UCURdb$Boron_mg,$"NA")
UCURdb$FNA_CAFFN<-ifelse(!is.na(UCURdb$Caffeine_per_serving_mg),UCURdb$Caffeine_per_serving_mg,UCURdb$`X262`)
UCURdb$FNA_CA<-ifelse(!is.na(UCURdb$Calcium_mg),UCURdb$Calcium_mg,UCURdb$`X301`)
UCURdb$FNA_CHL<-ifelse(!is.na(UCURdb$Chloride_mcg),UCURdb$Chloride_mcg,$"NA")
UCURdb$FNA_CHOLE<-ifelse(!is.na(UCURdb$Cholesterol_per_serving_mg),UCURdb$Cholesterol_per_serving_mg,UCURdb$`X601`)
UCURdb$FNA_CHOLN<-ifelse(!is.na(UCURdb$Choline_mg),UCURdb$Choline_mg,UCURdb$`X421`)
UCURdb$FNA_CHR<-ifelse(!is.na(UCURdb$Chromium_mcg),UCURdb$Chromium_mcg,$"NA")
UCURdb$FNA_CU<-ifelse(!is.na(UCURdb$Copper_mcg),UCURdb$Copper_mcg,UCURdb$`X312`)
UCURdb$FNA_FLD<-ifelse(!is.na(UCURdb$Fluoride_mg),UCURdb$Fluoride_mg,UCURdb$`X313`)
UCURdb$FNA_FOLAC<-ifelse(!is.na(UCURdb$Folic_acid_per_serving_mcg),UCURdb$Folic_acid_per_serving_mcg,UCURdb$`X431`)
UCURdb$FNA_IOD<-ifelse(!is.na(UCURdb$Iodine_mcg),UCURdb$Iodine_mcg,$"NA")
UCURdb$FNA_FE<-ifelse(!is.na(UCURdb$Iron_mg),UCURdb$Iron_mg,UCURdb$`X303`)
UCURdb$FNA_LCRN<-ifelse(!is.na(UCURdb$L_Carnitine_mg),UCURdb$L_Carnitine_mg,$"NA")
UCURdb$FNA_LUTZEA<-ifelse(!is.na(UCURdb$Lutein_zeaxanthin_per_serving_mcg),UCURdb$Lutein_zeaxanthin_per_serving_mcg,UCURdb$`X338`)
UCURdb$FNA_LYCPN<-ifelse(!is.na(UCURdb$Lycopene_per_serving_mcg),UCURdb$Lycopene_per_serving_mcg,UCURdb$`X337`)
UCURdb$FNA_MG<-ifelse(!is.na(UCURdb$Magnesium_mg),UCURdb$Magnesium_mg,UCURdb$`X304`)
UCURdb$FNA_MN<-ifelse(!is.na(UCURdb$Manganese_mg),UCURdb$Manganese_mg,UCURdb$`X315`)
UCURdb$FNA_MLY<-ifelse(!is.na(UCURdb$Molybdenum_mcg),UCURdb$Molybdenum_mcg,$"NA")
UCURdb$FNA_PROadj<-ifelse(!is.na(UCURdb$Adjusted_Protein_per_serving_g),UCURdb$Adjusted_Protein_per_serving_g,UCURdb$`X257`)
UCURdb$FNA_ENERC_KJ<-ifelse(!is.na(UCURdb$Energy_per_serving_kJ),UCURdb$Energy_per_serving_kJ,UCURdb$`X268`)
UCURdb$FNA_VITEadd<-ifelse(!is.na(UCURdb$Vitamin_E_added_per_serving_mg),UCURdb$Vitamin_E_added_per_serving_mg,UCURdb$`X573`)
UCURdb$FNA_VITBadd<-ifelse(!is.na(UCURdb$Vitamin_B_12_added_per_serving_mcg),UCURdb$Vitamin_B_12_added_per_serving_mcg,UCURdb$`X578`)
UCURdb$FNA_ERGCAL<-ifelse(!is.na(UCURdb$Vitamin_D2_ergocalciferol_per_serving_mcg)_per_serving_µg$Vitamin_D2_ergocalciferol_per_serving_mcg,UCURdb$`X325`)
UCURdb$FNA_CHOCAL<-ifelse(!is.na(UCURdb$Vitamin_D3_cholecalciferol_per_serving_mcg)_per_serving_µg$Vitamin_D3_cholecalciferol_per_serving_mcg,UCURdb$`X326`)
UCURdb$FNA_NAC<-ifelse(!is.na(UCURdb$N_acetyl_Carnitine_mg),UCURdb$N_acetyl_Carnitine_mg,$"NA")
UCURdb$FNA_NIA<-ifelse(!is.na(UCURdb$Niacin_mg),UCURdb$Niacin_mg,UCURdb$`X406`)
UCURdb$FNA_NCK<-ifelse(!is.na(UCURdb$Nickel_mg),UCURdb$Nickel_mg,"NA")
UCURdb$FNA_PANTAC<-ifelse(!is.na(UCURdb$Pantothenic_mg),UCURdb$Pantothenic_mg,UCURdb$`X410`)
UCURdb$FNA_P<-ifelse(!is.na(UCURdb$Phosphorus_mg),UCURdb$Phosphorus_mg,UCURdb$`X305`)
UCURdb$FNA_K<-ifelse(!is.na(UCURdb$Potassium_mg),UCURdb$Potassium_mg,UCURdb$`X306`)
UCURdb$FNA_RIBF<-ifelse(!is.na(UCURdb$Riboflavin_mg),UCURdb$Riboflavin_mg,UCURdb$`X405`)
UCURdb$FNA_SE<-ifelse(!is.na(UCURdb$Selenium_mcg),UCURdb$Selenium_mcg,UCURdb$`X317`)
UCURdb$FNA_SIL<-ifelse(!is.na(UCURdb$Silicon_mcg),UCURdb$Silicon_mcg,"NA")
UCURdb$FNA_NA<-ifelse(!is.na(UCURdb$Sodium_mg),UCURdb$Sodium_mg,UCURdb$`X307`)
UCURdb$FNA_THEBRN<-ifelse(!is.na(UCURdb$Theobromine_per_serving_mg),UCURdb$Theobromine_per_serving_mg,UCURdb$`X263`)
UCURdb$FNA_THIA<-ifelse(!is.na(UCURdb$Thiamin_mg),UCURdb$Thiamin_mg,UCURdb$`X404`)
UCURdb$FNA_TIN<-ifelse(!is.na(UCURdb$Tin_mg),UCURdb$Tin_mg,UCURdb$`XN/A`)
UCURdb$FNA_VAN<-ifelse(!is.na(UCURdb$Vanadium_mg),UCURdb$Vanadium_mg,"NA")
UCURdb$FNA_VITA_IU<-ifelse(!is.na(UCURdb$Vitamin_A_mcg),UCURdb$Vitamin_A_mcg,UCURdb$`X318`)
UCURdb$FNA_VITB12<-ifelse(!is.na(UCURdb$Vitamin_B12_mcg),UCURdb$Vitamin_B12_mcg,UCURdb$`X418`)
UCURdb$FNA_VITB6A<-ifelse(!is.na(UCURdb$Vitamin_B6_mg),UCURdb$Vitamin_B6_mg,UCURdb$`X415`)
UCURdb$FNA_VITC<-ifelse(!is.na(UCURdb$Vitamin_C_mg),UCURdb$Vitamin_C_mg,UCURdb$`X401`)
UCURdb$FNA_VITK1<-ifelse(!is.na(UCURdb$Vitamin_K_mcg),UCURdb$Vitamin_K_mcg,UCURdb$`X430`)
UCURdb$FNA_ZN<-ifelse(!is.na(UCURdb$Zinc_mg),UCURdb$Zinc_mg,UCURdb$`X309`)
UCURdb$FNA_SITSTR<-ifelse(!is.na(UCURdb$Beta_sitosterol_per_serving_mg),UCURdb$Beta_sitosterol_per_serving_mg,UCURdb$`X641`)
UCURdb$FNA_CAMD5<-ifelse(!is.na(UCURdb$Campesterol_per_serving_mg),UCURdb$Campesterol_per_serving_mg,UCURdb$`X639`)
UCURdb$FNA_PHYSTR<-ifelse(!is.na(UCURdb$Phytosterols_per_serving_mg),UCURdb$Phytosterols_per_serving_mg,UCURdb$`X636`)
UCURdb$FNA_STID7<-ifelse(!is.na(UCURdb$Stigmasterol_per_serving_mg),UCURdb$Stigmasterol_per_serving_mg,UCURdb$`X638`)
UCURdb$FNA_ASH<-ifelse(!is.na(UCURdb$Ash_per_serving_g),UCURdb$Ash_per_serving_g,UCURdb$`X207`)
UCURdb$FNA_WATER<-ifelse(!is.na(UCURdb$Water_per_serving_g),UCURdb$Water_per_serving_g,UCURdb$`X255`)
UCURdb$FNA_CARTA<-ifelse(!is.na(UCURdb$Carotene_alpha_per_serving_mcg),UCURdb$Carotene_alpha_per_serving_mcg,UCURdb$`X322`)
UCURdb$FNA_CARTB<-ifelse(!is.na(UCURdb$Carotene_beta_per_serving_mcg),UCURdb$Carotene_beta_per_serving_mcg,UCURdb$`X321`)
UCURdb$FNA_CRYPX<-ifelse(!is.na(UCURdb$Cryptoxanthin_beta_per_serving_mcg),UCURdb$Cryptoxanthin_beta_per_serving_mcg,UCURdb$`X334`)
UCURdb$FNA_VITK1D<-ifelse(!is.na(UCURdb$Dihydrophylloquinone_per_serving_mcg),UCURdb$Dihydrophylloquinone_per_serving_mcg,UCURdb$`X429`)
UCURdb$FNA_FOLDFE<-ifelse(!is.na(UCURdb$Folate_DFE_per_serving_mcg),UCURdb$Folate_DFE_per_serving_mcg,UCURdb$`X435`)
UCURdb$FNA_FOLFD<-ifelse(!is.na(UCURdb$Folate_food_per_serving_mcg),UCURdb$Folate_food_per_serving_mcg,UCURdb$`X432`)
UCURdb$FNA_MK4<-ifelse(!is.na(UCURdb$Menaquinone_4_per_serving_mcg),UCURdb$Menaquinone_4_per_serving_mcg,UCURdb$`X428`)
UCURdb$FNA_FOL<-ifelse(!is.na(UCURdb$Folate_mcg),UCURdb$Folate_mcg,UCURdb$`X417`)
UCURdb$FNA_VITD<-ifelse(!is.na(UCURdb$Vitamin_D_mcg),UCURdb$Vitamin_D_mcg,UCURdb$`X328`)
UCURdb$FNA_TOCPHA<-ifelse(!is.na(UCURdb$Vitamin_E_mg),UCURdb$Vitamin_E_mg,UCURdb$`X323`)
UCURdb$FNA_RETOL<-ifelse(!is.na(UCURdb$Retinol_per_serving_mcg),UCURdb$Retinol_per_serving_mcg,UCURdb$`X319`)
UCURdb$FNA_TOCPHB<-ifelse(!is.na(UCURdb$Tocopherol_beta_per_serving_mg),UCURdb$Tocopherol_beta_per_serving_mg,UCURdb$`X341`)
UCURdb$FNA_TOCPHD<-ifelse(!is.na(UCURdb$Tocopherol_delta_per_serving_mg),UCURdb$Tocopherol_delta_per_serving_mg,UCURdb$`X343`)
UCURdb$FNA_TOCPHG<-ifelse(!is.na(UCURdb$Tocopherol_gamma_per_serving_mg),UCURdb$Tocopherol_gamma_per_serving_mg,UCURdb$`X342`)
UCURdb$FNA_TOCTRA<-ifelse(!is.na(UCURdb$Tocotrienol_alpha_per_serving_mg),UCURdb$Tocotrienol_alpha_per_serving_mg,UCURdb$`X344`)
UCURdb$FNA_TOCTRB<-ifelse(!is.na(UCURdb$Tocotrienol_beta_per_serving_mg),UCURdb$Tocotrienol_beta_per_serving_mg,UCURdb$`X345`)
UCURdb$FNA_TOCTRD<-ifelse(!is.na(UCURdb$Tocotrienol_delta_per_serving_mg),UCURdb$Tocotrienol_delta_per_serving_mg,UCURdb$`X347`)
UCURdb$FNA_TOCTRG<-ifelse(!is.na(UCURdb$Tocotrienol_gamma_per_serving_mg),UCURdb$Tocotrienol_gamma_per_serving_mg,UCURdb$`X346`)
UCURdb$FNA_VITA_RAE<-ifelse(!is.na(UCURdb$Vitamin_A_RAE_per_serving_mcg),UCURdb$Vitamin_A_RAE_per_serving_mcg,UCURdb$`X320`)
UCURdb$FNA_VITD<-ifelse(!is.na(UCURdb$Vitamin_D_per_serving_IU),UCURdb$Vitamin_D_per_serving_IU,UCURdb$`X324`)
UCURdb$FNA_BETN<-ifelse(!is.na(UCURdb$Betaine_per_serving_mg),UCURdb$Betaine_per_serving_mg,UCURdb$`X454`)
UCURdb$FNA_BIO<-ifelse(!is.na(UCURdb$Biotin_mcg),UCURdb$Biotin_mcg,"NA")
UCURdb$FNA_BOR<-ifelse(!is.na(UCURdb$Boron_mg),UCURdb$Boron_mg,"NA")
UCURdb$FNA_CAFFN<-ifelse(!is.na(UCURdb$Caffeine_per_serving_mg),UCURdb$Caffeine_per_serving_mg,UCURdb$`X262`)
UCURdb$FNA_CA<-ifelse(!is.na(UCURdb$Calcium_mg),UCURdb$Calcium_mg,UCURdb$`X301`)
UCURdb$FNA_CHL<-ifelse(!is.na(UCURdb$Chloride_mcg),UCURdb$Chloride_mcg,"NA")
UCURdb$FNA_CHOLE<-ifelse(!is.na(UCURdb$Cholesterol_per_serving_mg),UCURdb$Cholesterol_per_serving_mg,UCURdb$`X601`)
UCURdb$FNA_CHOLN<-ifelse(!is.na(UCURdb$Choline_mg),UCURdb$Choline_mg,UCURdb$`X421`)
UCURdb$FNA_CHR<-ifelse(!is.na(UCURdb$Chromium_mcg),UCURdb$Chromium_mcg,"NA")
UCURdb$FNA_CU<-ifelse(!is.na(UCURdb$Copper_mcg),UCURdb$Copper_mcg,UCURdb$`X312`)
UCURdb$FNA_FLD<-ifelse(!is.na(UCURdb$Fluoride_mg),UCURdb$Fluoride_mg,UCURdb$`X313`)
UCURdb$FNA_FOLAC<-ifelse(!is.na(UCURdb$Folic_acid_per_serving_mcg),UCURdb$Folic_acid_per_serving_mcg,UCURdb$`X431`)
UCURdb$FNA_IOD<-ifelse(!is.na(UCURdb$Iodine_mcg),UCURdb$Iodine_mcg,"NA")
UCURdb$FNA_FE<-ifelse(!is.na(UCURdb$Iron_mg),UCURdb$Iron_mg,UCURdb$`X303`)
UCURdb$FNA_LCRN<-ifelse(!is.na(UCURdb$L_Carnitine_mg),UCURdb$L_Carnitine_mg,"NA")
UCURdb$FNA_LUTZEA<-ifelse(!is.na(UCURdb$Lutein_zeaxanthin_per_serving_mcg),UCURdb$Lutein_zeaxanthin_per_serving_mcg,UCURdb$`X338`)
UCURdb$FNA_LYCPN<-ifelse(!is.na(UCURdb$Lycopene_per_serving_mcg),UCURdb$Lycopene_per_serving_mcg,UCURdb$`X337`)
UCURdb$FNA_MG<-ifelse(!is.na(UCURdb$Magnesium_mg),UCURdb$Magnesium_mg,UCURdb$`X304`)
UCURdb$FNA_MN<-ifelse(!is.na(UCURdb$Manganese_mg),UCURdb$Manganese_mg,UCURdb$`X315`)
UCURdb$FNA_MLY<-ifelse(!is.na(UCURdb$Molybdenum_mcg),UCURdb$Molybdenum_mcg,"NA")
UCURdb$FNA_PROadj<-ifelse(!is.na(UCURdb$Adjusted_Protein_per_serving_g),UCURdb$Adjusted_Protein_per_serving_g,UCURdb$`X257`)
UCURdb$FNA_ENERC_KJ<-ifelse(!is.na(UCURdb$Energy_per_serving_kJ),UCURdb$Energy_per_serving_kJ,UCURdb$`X268`)
UCURdb$FNA_VITEadd<-ifelse(!is.na(UCURdb$Vitamin_E_added_per_serving_mg),UCURdb$Vitamin_E_added_per_serving_mg,UCURdb$`X573`)
UCURdb$FNA_VITBadd<-ifelse(!is.na(UCURdb$Vitamin_B_12_added_per_serving_mcg),UCURdb$Vitamin_B_12_added_per_serving_mcg,UCURdb$`X578`)
UCURdb$FNA_ERGCAL<-ifelse(!is.na(UCURdb$Vitamin_D2_ergocalciferol_per_serving_mcg),UCURdb$Vitamin_D2_ergocalciferol_per_serving_mcg,UCURdb$`X325`)
UCURdb$FNA_CHOCAL<-ifelse(!is.na(UCURdb$Vitamin_D3_cholecalciferol_per_serving_mcg),UCURdb$Vitamin_D3_cholecalciferol_per_serving_mcg,UCURdb$`X326`)
UCURdb$FNA_NAC<-ifelse(!is.na(UCURdb$N_acetyl_Carnitine_mg),UCURdb$N_acetyl_Carnitine_mg,"NA")
UCURdb$FNA_NIA<-ifelse(!is.na(UCURdb$Niacin_mg),UCURdb$Niacin_mg,UCURdb$`X406`)
UCURdb$FNA_NCK<-ifelse(!is.na(UCURdb$Nickel_mg),UCURdb$Nickel_mg,"NA")
UCURdb$FNA_PANTAC<-ifelse(!is.na(UCURdb$Pantothenic_mg),UCURdb$Pantothenic_mg,UCURdb$`X410`)
UCURdb$FNA_P<-ifelse(!is.na(UCURdb$Phosphorus_mg),UCURdb$Phosphorus_mg,UCURdb$`X305`)
UCURdb$FNA_K<-ifelse(!is.na(UCURdb$Potassium_mg),UCURdb$Potassium_mg,UCURdb$`X306`)
UCURdb$FNA_RIBF<-ifelse(!is.na(UCURdb$Riboflavin_mg),UCURdb$Riboflavin_mg,UCURdb$`X405`)
UCURdb$FNA_SE<-ifelse(!is.na(UCURdb$Selenium_mcg),UCURdb$Selenium_mcg,UCURdb$`X317`)
UCURdb$FNA_SIL<-ifelse(!is.na(UCURdb$Silicon_mcg),UCURdb$Silicon_mcg,"NA")
UCURdb$FNA_NA<-ifelse(!is.na(UCURdb$Sodium_mg),UCURdb$Sodium_mg,UCURdb$`X307`)
UCURdb$FNA_THEBRN<-ifelse(!is.na(UCURdb$Theobromine_per_serving_mg),UCURdb$Theobromine_per_serving_mg,UCURdb$`X263`)
UCURdb$FNA_THIA<-ifelse(!is.na(UCURdb$Thiamin_mg),UCURdb$Thiamin_mg,UCURdb$`X404`)
UCURdb$FNA_TIN<-ifelse(!is.na(UCURdb$Tin_mg),UCURdb$Tin_mg,"NA")
UCURdb$FNA_VAN<-ifelse(!is.na(UCURdb$Vanadium_mg),UCURdb$Vanadium_mg,"NA")
UCURdb$FNA_VITA_IU<-ifelse(!is.na(UCURdb$Vitamin_A_mcg),UCURdb$Vitamin_A_mcg,UCURdb$`X318`)
UCURdb$FNA_VITB12<-ifelse(!is.na(UCURdb$Vitamin_B12_mcg),UCURdb$Vitamin_B12_mcg,UCURdb$`X418`)
UCURdb$FNA_VITB6A<-ifelse(!is.na(UCURdb$Vitamin_B6_mg),UCURdb$Vitamin_B6_mg,UCURdb$`X415`)
UCURdb$FNA_VITC<-ifelse(!is.na(UCURdb$Vitamin_C_mg),UCURdb$Vitamin_C_mg,UCURdb$`X401`)
UCURdb$FNA_VITK1<-ifelse(!is.na(UCURdb$Vitamin_K_mcg),UCURdb$Vitamin_K_mcg,UCURdb$`X430`)
UCURdb$FNA_ZN<-ifelse(!is.na(UCURdb$Zinc_mg),UCURdb$Zinc_mg,UCURdb$`X309`)
UCURdb$FNA_SITSTR<-ifelse(!is.na(UCURdb$Beta_sitosterol_per_serving_mg),UCURdb$Beta_sitosterol_per_serving_mg,UCURdb$`X641`)
UCURdb$FNA_CAMD5<-ifelse(!is.na(UCURdb$Campesterol_per_serving_mg),UCURdb$Campesterol_per_serving_mg,UCURdb$`X639`)
UCURdb$FNA_PHYSTR<-ifelse(!is.na(UCURdb$Phytosterols_per_serving_mg),UCURdb$Phytosterols_per_serving_mg,UCURdb$`X636`)
UCURdb$FNA_STID7<-ifelse(!is.na(UCURdb$Stigmasterol_per_serving_mg),UCURdb$Stigmasterol_per_serving_mg,UCURdb$`X638`)
UCURdb$FNA_ASH<-ifelse(!is.na(UCURdb$Ash_per_serving_g),UCURdb$Ash_per_serving_g,UCURdb$`X207`)
UCURdb$FNA_WATER<-ifelse(!is.na(UCURdb$Water_per_serving_g),UCURdb$Water_per_serving_g,UCURdb$`X255`)
#Keep only foodomics columns?
foodomics<-UCURdb[ , grepl( "FNA" , names(UCURdb) ) ]
foodomics <- sapply(foodomics, as.numeric)
foodomics<-as.data.frame(foodomics)
saveRDS(foodomics, file="foodomicsDB.rds")
warnings()
names(UCURdb)
UCURmeltOTHER <- melt(UCURdb[,c(2,505:575)] ,  id.vars = 'Count', variable.name = 'Chemical')
UCURmeltOTHER$Count<-as.numeric(UCURmeltOTHER$Count)
UCURmeltOTHER$value<-as.numeric(UCURmeltOTHER$value)
ggplot(UCURmeltOTHER, aes(Count,value)) + geom_point() + facet_wrap(~variable, ncol = 10)
warnings()
UCURdb$FNA_ALC<-ifelse(UCURdb$Protein_per_serving_g=="0",0,ifelse(!is.na(UCURdb$Alcohol_ethyl_per_serving_g),UCURdb$Alcohol_ethyl_per_serving_g,UCURdb$CHO_conv*UCURdb$`X221`))
UCURdb$FNA_ALC<-ifelse(UCURdb$CHOdec=="0",0,ifelse(!is.na(UCURdb$Alcohol_ethyl_per_serving_g),UCURdb$Alcohol_ethyl_per_serving_g,UCURdb$CHO_conv*UCURdb$`X221`))
UCURdb$FNA_CARTA<-ifelse(!is.na(UCURdb$Carotene_alpha_per_serving_mcg),UCURdb$Carotene_alpha_per_serving_mcg,UCURdb$`X322`)
replicatedFDb <- data.frame(Year=c('1997',
'2000',
'2001',
'2002',
'2003',
'2004',
'2005',
'2006',
'2007',
'2008',
'2009',
'2010',
'2011',
'2012',
'2013',
'2014',
'2015'))
replicatedFDb.expanded <- replicatedFDb[rep(seq.int(1,7986), df$freq), 1]
replicatedFDb.expanded <- replicatedFDb[rep(seq_len(nrow(foodomics))), 1]
replicatedFDb.expanded
str(replicatedFDb.expanded)
length(replicatedFDb.expanded)
replicatedFDb.expanded <- replicatedFDb[rep(seq_len(119790)), 1]
length(replicatedFDb.expanded)
119790/15
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
length(uniqueNDIDforREP)
uniqueNDIDforREP<-paste(UCURdb$Year, UCURdb$New.NDID.Number, sep="_")
uniqueNDIDforREP<-unique(paste(UCURdb$Year, UCURdb$New.NDID.Number, sep="_"))
replicatedFDb.expanded <- replicatedFDb[rep(seq_len(115725)), 1]
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
foodomicsDB.expanded2 <- foodomicsDB.expanded[rep(seq_len(115725)), 1]
foodomicsDB.expanded2 <- data.frame(foodomicsDB.expanded[rep(seq_len(115725)), 1])
replicatedFDb.expanded <- data.frame(replicatedFDb[rep(seq_len(115725)), 1])
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
length(uniqueNDIDforREP
length(uniqueNDIDforREP)
replicatedFDb.expanded <- data.frame(replicatedFDb[rep(seq_len(16815)), 1])
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
foodomicsDB.expanded2 <- data.frame(foodomicsDB.expanded[rep(seq_len(16815)), 1])
final_product<-rbind(replicatedFDb.expanded,foodomicsDB.expanded2)
replicatedFDb.expanded <- data.frame(replicatedFDb[rep(seq_len(16815)), 1])
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
foodomicsDB.expanded2 <- data.frame(foodomicsDB.expanded[rep(seq_len(16815)), 1])
final_product<-rbind(replicatedFDb.expanded,foodomicsDB.expanded2)
length(replicatedFd\)
length(replicatedFDb.expanded)
replicatedFDb <- data.frame(Year=c('1997',
'2000',
'2001',
'2002',
'2003',
'2004',
'2005',
'2006',
'2007',
'2008',
'2009',
'2010',
'2011',
'2012',
'2013',
'2014',
'2015'))
replicatedFDb.expanded <- data.frame(replicatedFDb[rep(seq_len(16815)), 1])
length(replicatedFDb.expanded)
replicatedFDb.expanded <- replicatedFDb[rep(seq_len(16815)), 1]
length(replicatedFDb.expanded)
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
length(uniqueNDIDforREP)
1121*15
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
length(foodomicsDB.expanded)
replicatedFDb.expanded
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
View(foodomicsDB.expanded)
each_NDID_15_times<-foodomicsDB.expanded[rep(seq_len(nrow(foodomicsDB.expanded)), each=15),]
each_NDID_15_times<-data.frame(foodomicsDB.expanded[rep(seq_len(nrow(foodomicsDB.expanded)), each=15),])
View(each_NDID_15_times)
each_YEAR_15_times<-data.frame(replicatedFDb[rep(seq_len(nrow(replicatedFDb)), 15), ])
View(each_YEAR_15_times)
View(replicatedFDb)
#Replicate NDIDs
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
each_NDID_15_times<-data.frame(foodomicsDB.expanded[rep(seq_len(nrow(foodomicsDB.expanded)), each=15),])
each_YEAR_15_times<-data.frame(replicatedFDb[rep(seq_len(nrow(replicatedFDb)), 1121), ]) #where 1121 is the number of products we have that are unique
length(uniqueNDIDforREP)
View(each_YEAR_15_times)
each_YEAR_1121_times<-data.frame(replicatedFDb[rep(seq_len(nrow(replicatedFDb)), 1121), ]) #where 1121 is the number of products we have that are unique
#Replicate NDIDs
uniqueNDIDforREP<-unique(UCURdb$New.NDID.Number)
foodomicsDB.expanded <-data.frame(NDID=(uniqueNDIDforREP))
each_NDID_17_times<-data.frame(foodomicsDB.expanded[rep(seq_len(nrow(foodomicsDB.expanded)), each=17),])
final_product<-rbind(each_YEAR_1121_times,each_NDID_17_times)
final_product<-data.frame(YEAR=each_YEAR_1121_times,NDID=each_NDID_17_times)
View(final_product)
final_product$pasteNAME<-paste0(final_product[,1],final_product[,2], sep="_")
final_product$pasteNAME<-paste(final_product[,1],final_product[,2], sep="_")
replacing<-read.csv(file="Nutrition Facts Database 2016.txt", header=TRUE, sep="\t")
replacing[""]<-"N"
replacing[replacing==""]<-"N/A"
warnings()
write.csv(replacing, "replaced.csv")
replacing<-read.csv(file="testereplaceNA.txt", header=TRUE, sep="\t")
replacing[replacing==""]<-"N/A"
write.csv(replacing, "replaced.csv", sep="\t")
write.csv(replacing, "replaced.csv")
write.csv(replacing, "replaced2.csv")
View(replacing)
setwd("C:/Users/dlennon/Desktop/PKT_DB_APP")
library(shiny)
install.packages("shiny")
runApp()
library(shiny)
runApp()
install.packages("DT")
install.packages("D3TableFilter")
install.packages("devtools")
devtools::install_github("ThomasSiegmund/D3TableFilter")
setwd("C:/Users/dlennon/Desktop")
setwd("C:/Users/dlennon/Desktop/11202015.release - no input")
install.packages("RMySQL")
runApp()
install.packages("shinyjs")
runApp()
runApp()
runApp()
runApp()
setwd("C:/Users/dlennon/Desktop/c05033ff036c4fbf97b8eb2d06dd4e96")
runApp()
install.packages('rCharts')
require(devtools)
install_github('ramnathv/rCharts')
runApp()
